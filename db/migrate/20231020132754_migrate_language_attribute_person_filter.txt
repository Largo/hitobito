#  Copyright (c) 2012-2023, Pfadibewegung Schweiz. This file is part of
#  hitobito and licensed under the Affero General Public License version 3
#  or later. See the COPYING file at the top-level directory or at
#  https://github.com/hitobito/hitobito.

class MigrateLanguageAttributePersonFilter < ActiveRecord::Migration[6.1]
  def up 
    PeopleFilter.find_each do |person_filter|
      language_attribute_args = person_filter.filter_chain[:attributes]&.args&.values&.filter do |filter_args|
        filter_args[:key] == 'years'
      end
      
      next if language_attribute_args.none?
    end
  end
end
